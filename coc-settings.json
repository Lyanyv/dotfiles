{
  "suggest.minTriggerInputLength": 2,
  "suggest.virtualText": true,
  "suggest.enableFloat": true,
  "coc.preferences.jumpCommand": "tabe",
  "coc.preferences.currentFunctionSymbolAutoUpdate": true,

  "list.floatPreview": true,
  "list.alignColumns": true,
  "list.source.diagnostics.defaultOptions": [ "--auto-preview", "--no-quit", "--normal" ],
  "list.source.symbols.defaultOptions": [ "--auto-preview", "--no-quit", "--interactive" ],

  // coc-lists
  "session.saveOnVimLeave": false,
  "list.source.files.defaultOptions": [ "--no-quit" ],
  "list.source.files.defaultArgs": [ "-folder" ],
  "list.source.grep.defaultOptions": [ "--auto-preview", "--no-quit", "--interactive" ],
  "list.source.grep.defaultArgs": [ "-folder", "-regex" ],
  "list.source.grep.args": [],
  "list.source.lines.defaultOptions": [ "--auto-preview", "--no-quit", "--interactive" ],
  "list.source.mru.defaultOptions": [ "--auto-preview", "--no-quit" ],
  "list.source.mru.defaultArgs": [ "-A" ],

  // coc-pairs
  // quotes only pair when the character before is not a word character

  // coc-highlight
  "colors.enable": true,
  "highlight.colors.enable": true,
  "highlight.document.enable": false,

  // coc-word
  "coc.source.word.priority": 0,
  "coc.source.word.filetypes": ["text", "tex", "markdown"],

  // coc-snippets
  "snippets.autoTrigger": true,
  "snippets.ultisnips.enable": true,
  "snippets.ultisnips.directories": [],
  "snippets.snipmate.enable": false,
  "snippets.massCode.enable": false,

  // coc-pyright
  "python.linting.enabled": true,
  "python.linting.lintOnSave": true,
  "python.linting.maxNumberOfProblems": 1024,
  "python.linting.ruffEnabled": true,
  "python.linting.ruffArgs": [ "--ignore=E126,E501,W503,W504" ],
  "python.linting.ruffStdin": true,
  "pyright.organizeimports.provider": "ruff",
  "python.formatting.provider": "yapf",
  "python.formatting.yapfArgs": [],

  "pyright.completion.importSupport": true,
  "pyright.completion.snippetSupport": true,
  "python.analysis.autoSearchPaths": true,
  "python.analysis.diagnosticMode": "openFilesOnly",
  "python.analysis.typeCheckingMode": "basic",
  "python.analysis.autoImportCompletions": false,
  "pyright.inlayHints.variableTypes": false,
  "pyright.inlayHints.functionReturnTypes": false,

  // coc-texlab
  // $HOME/.latexmkrc:
  // $pdf_mode = 5;
  // $postscript_mode = $dvi_mode = 0;
  // $pdf_previewer = 'start SumatraPDF %O %S';
  // $pdflatex = "pdflatex -file-line-error -halt-on-error -interaction=nonstopmode -synctex=-1 %O %S";
  // $xelatex = "xelatex -file-line-error -halt-on-error -interaction=nonstopmode -no-pdf -synctex=-1 %O %S";
  // # Always try to embed fonts, ignoring licensing flags, etc.
  // $xdvipdfmx = "xdvipdfmx -E -o %D %O %S";
  // $bibtex_use = 1;

  // SumatraPDF:
  // InverseSearchCmdLine = gvim --remote-silent +%l "%f"
  // gvim -> nvr (neovim-remote)
  "texlab.build.args": [ "-pv" ],
  "texlab.forwardSearch.executable": "SumatraPDF",
  "texlab.forwardSearch.args": [
    "-reuse-instance", "%p", "-forward-search", "%f", "%l"
  ],
  "texlab.build.forwardSearchAfter": true,
  "texlab.chktex.onOpenAndSave": true,
  "texlab.chktex.onEdit": true,

  "semanticTokens.enable": false,
  // pyright ×: bad highlight
  // ccls ×: do not support
  // "[c][cpp][python]": { "semanticTokens.enable": false },
  // ccls
  "languageserver": {
    "ccls": {
      "command": "ccls",
      "filetypes": [ "c", "cpp", "cuda", "objc", "objcpp" ],
      "rootPatterns": [ ".ccls", "compile_commands.json" ],
      "initializationOptions": {
        "cache": {
          "directory": ".ccls-cache",
          "format": "binary"
        },
        "index": { "multiVersion": 0 },
        "highlight": { "lsRanges": true }
        // If the project is compiled with MSVC,
        // don't forget to set the compiler driver in .ccls to clang-cl
        // "clang.extraArgs": [
        //   "-fms-extensions",
        //   "-fms-compatibility",
        //   "-fdelayed-template-parsing"
        // ]
      }
    }
  }
}
